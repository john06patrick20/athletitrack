<!-- templates/reports/export_filter.html -->
{% extends "base.html" %}
{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<div class="card shadow-sm" style="max-width: 500px; margin: auto;">
    <div class="card-header"><h3 class="mb-0">{{ page_title }}</h3></div>
    <div class="card-body">
        <p>Please select a team to export the data for. The downloaded CSV will contain all athletes and their summarized stats for the selected team.</p>
        <!-- The form will submit to the actual export view -->
        <form action="{% url 'export-athletes-csv' %}" method="get">
            {{ form.as_p }}
            <button type="submit" class="btn btn-primary w-100 mt-3">Download CSV</button>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    $(document).ready(function() {
        // Make the team selection searchable
        $('.select2-filter').select2({ theme: 'bootstrap-5' });
    });
</script>
{% endblock %}